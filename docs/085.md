# PHP 正则表达式

> 原文：<https://www.javatpoint.com/php-regular-expressions>

正则表达式通常被称为**正则表达式**。这些只不过是一种模式或一系列字符，它们将一种特殊的搜索模式描述为文本字符串。

正则表达式允许您在另一个字符串中搜索特定的字符串。甚至我们可以用另一个字符串替换一个字符串，也可以将一个字符串分成多个块。他们使用算术运算符(+，-，^)来创建复杂的表达式。

默认情况下，正则表达式区分大小写。

## 正则表达式的优点和用途

在当前的应用程序编程中，正则表达式几乎无处不在。下面给出了正则表达式的一些优点和用途:

1.  正则表达式帮助程序员验证文本字符串。
2.  它提供了一个强大的工具来分析和搜索模式以及修改文本字符串。
3.  通过使用 regexes 函数，可以提供简单易行的解决方案来识别模式。
4.  Regexes 有助于创建识别标签的 HTML 模板系统。
5.  Regexes 广泛用于浏览器检测、表单验证、垃圾邮件过滤和密码强度检查。
6.  它有助于用户输入验证测试，如电子邮件地址、手机号码和 IP 地址。
7.  它有助于根据搜索结果或输入突出显示文件中的特殊关键字。
8.  元字符允许我们创建更复杂的模式。

您可以通过应用正则表达式的一些基本规则来创建复杂的搜索模式。许多算术运算符(+，-，^)也被正则表达式用来创建复杂的模式。

## 正则表达式中的运算符

| 操作员 | 描述 |
| ^ | 它指示字符串的开始。 |
| $ | 它指示字符串的结尾。 |
| 。 | 它捐赠任何一个字符。 |
| () | 它显示了一组表达式。 |
| [] | 它查找一系列字符，**例如**，【abc】表示 a、b 或 c。 |
| [^] | 它找到不在范围内的字符，**例如**，【^xyz】表示不是 x、y 或 z。 |
| - | 它找到元素之间的范围，**例如**，【a-z】表示 a 到 z。 |
| &#124; | 它是一个逻辑或运算符，用于元素之间。**例如**，a&#124;b，表示 a 或 b。 |
| ？ | 它表示零个或一个前面的字符或元素范围。 |
| * | 它表示零个或多个前面的字符或元素范围。 |
| + | 它表示零个或多个前面的字符或元素范围。 |
| {n} | 它表示至少 n 倍的前面字符范围。例如- n{3} |
| {n，} | 它表示至少 n，但不应超过 m 倍，例如，n{2，5}表示 n 的 2 到 5。 |
| {n，m} | 它表示至少 n 次，但不应超过 m 次。例如- n{3，6}表示 n 的 3 到 6。 |
| \ | 它表示转义字符。 |

## 正则表达式中的特殊字符类

| 特殊字符 | 描述 |
| \n | 它表示一个新行。 |
| \r | 它表示回车。 |
| \t | 它代表一个标签。 |
| \v | 它代表一个垂直标签。 |
| \f | 它代表一个表单源。 |
| \xxx | 它代表一个八进制字符。 |
| \xxh | 它表示十六进制字符 hh。 |

PHP 提供了两组正则表达式函数:

1.  正则表达式
2.  PERL 风格正则表达式

## 正则表达式

POSIX 正则表达式的结构类似于典型的算术表达式:几个运算符/元素组合在一起形成更复杂的表达式。

最简单的正则表达式是匹配字符串中的单个字符的表达式。**例如- "g"** 内的拨动或笼串。让我们介绍一些在 POSIX 正则表达式中使用的概念:

### 括号

括号[]在正则表达式中使用时有特殊的含义。这些用于查找其中的字符范围。

| 表示 | 描述 |
| [0-9] | 它匹配 0 到 9 之间的任何十进制数字。 |
| [a-z] | 它匹配从 a 到 z 的任何小写字符。 |
| [阿-兹] | 它匹配从 A 到 z 的任何大写字符 |
| [a-Z] | 它匹配从小写 a 到大写 z 的任何字符。 |

以上范围是常用的。您可以根据需要使用范围值，如[0-6]来匹配从 0 到 6 的任何十进制数字。

### 量词

一个特殊字符可以代表括号内字符序列和单个字符的位置。每个特殊的角色都有特定的含义。给定的符号+、*、？、$、和{int range}标志都遵循一个字符序列。

| 表示 | 描述 |
| **p+** | 它匹配任何包含至少一个 p 的字符串。 |
| **p*** | 它匹配任何包含一个或多个 p 的字符串。 |
| **p？** | 它匹配任何有 0 或 1 个 p 的字符串。 |
| **p{N}** | 它匹配任何有 N 个 p 序列的字符串。 |
| **p{2，3}** | 它匹配任何包含两个或三个 p 的字符串。 |
| **p{2，}** | 它匹配任何包含至少两个 p 的字符串。 |
| **p$** | 它匹配任何结尾包含 p 的字符串。 |
| **^p** | 它匹配任何开头有 p 的字符串。 |

### PHP 正则表达式 POSIX 函数

PHP 提供了七个函数来使用 POSIX 风格的正则表达式搜索字符串-

| 功能 | 描述 |
| **ereg()** | 它在另一个字符串中搜索字符串模式，如果模式匹配，则返回 true，否则返回 false。 |
| **ereg_replace()** | 它在另一个字符串中搜索字符串模式，并用替换字符串替换匹配的文本。 |
| **能量()** | 它在另一个字符串中搜索一个模式，如果找到匹配的字符串，则返回长度，否则返回 false。这是一个**不区分大小写的**函数。 |
| **eregi_replace()** | 该功能的工作原理与 **ereg_replace()** 功能相同。唯一的区别是这个函数的搜索模式不区分大小写。 |
| **分裂()** | split()函数将字符串分成数组。 |
| 分裂() | 它类似于 split()函数，因为它还通过正则表达式将字符串分成数组。 |
| **Sql_regcase()** | 它为不区分大小写的匹配创建一个正则表达式，并返回一个匹配字符串的有效正则表达式。 |

#### 注意:注意，上述函数在 PHP 5.3.0 中被弃用，在 PHP 7.0.0 中被删除。

## PERL 风格正则表达式

Perl 风格的正则表达式与 POSIX 非常相似。POSIX 语法可以与 Perl 风格的正则表达式函数互换使用。POSIX 部分介绍的量词也可以用在 PERL 风格的正则表达式中。

### 元字符

元字符是一个字母字符，后跟一个反斜杠，赋予组合特殊的含义。

**例如** - '\d '元字符可用于搜索大额:/([\d]+)000/。这里/d 将搜索数字字符串。

下面是可以在 PERL 风格正则表达式中使用的元字符列表

| 性格；角色；字母 | 描述 |
| **。** | 匹配单个字符 |
| **\s** | 它匹配空格、换行符、制表符等空白字符。 |
| **\S** | 非空白字符 |
| **\d** | 它匹配 0 到 9 之间的任何数字。 |
| **\D** | 匹配非数字字符。 |
| **\w** | 匹配单词字符，如- a-z，a-z，0-9，_ |
| **\W** | 匹配非单词字符。 |
| **【aeiou】t1** | 它匹配给定集合中的任何单个字符。 |
| **【aeiou】【aeiou】** | 它匹配除给定集合之外的任何单个字符。 |
| (foo &#124; baz &#124; bar) | 匹配任何指定的替代项。 |

### 修饰语

有几个修饰符可用，这使得正则表达式的工作变得容易得多。**例如** -区分大小写或多行搜索等。

下面是 PERL 风格正则表达式中使用的修饰符列表-

| 性格；角色；字母 | 描述 |
| **i** | 使搜索不区分大小写 |
| **米** | 它指定如果一个字符串有回车或换行符，那么$和^运算符将匹配换行符而不是字符串边界。 |
| **o** | 仅计算表达式一次 |
| **s** | 它允许使用。(点)匹配换行符 |
| **x** | 这个修饰语允许我们在表达中使用空白来表达清楚。 |
| **g** | 它全局搜索所有匹配项。 |
| **cg** | 即使在全局匹配失败后，它也允许继续搜索。 |

### PHP 正则表达式 POSIX 函数

PHP 目前提供了七个函数来使用 POSIX 风格的正则表达式搜索字符串-

| 功能 | 描述 |
| **preg_match()** | 该函数搜索字符串中的模式，如果模式存在，则返回**真**，否则返回**假**。 |  |
| **preg_match_all()** | 该函数匹配字符串中所有出现的模式。 |  |
| **preg_replace()** | preg_replace()函数类似于 ereg_replace()函数，只是正则表达式可以用于搜索和替换。 |  |
| **preg_split()** | 这个函数的工作方式与 split()函数完全一样，只是它接受正则表达式作为模式的输入参数。主要是用正则表达式来划分字符串。 |  |
| **preg_grep（）** | preg_grep()函数查找 input_array 的所有元素，并返回与 regexp(关系表达式)模式匹配的数组元素。 |  |
| **preg_quote()** | 引用正则表达式字符。 |  |

* * *